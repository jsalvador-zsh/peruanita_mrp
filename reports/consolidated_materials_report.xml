<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <!-- Reporte de Materiales Consolidados -->
  <record id="view_consolidated_materials_report" model="ir.ui.view">
    <field name="name">consolidated.materials.report</field>
    <field name="model">mrp.consolidation.line</field>
    <field name="arch" type="xml">
      <list string="Reporte de Materiales Consolidados" create="false" edit="false">
        <field name="category_id" />
        <field name="product_id" />
        <field name="qty_needed" />
        <field name="qty_available" />
        <field name="qty_missing" />
        <field name="supplier_id" />
        <field name="uom_id" />
      </list>
    </field>
  </record>

  <record id="action_consolidated_materials_report" model="ir.actions.act_window">
    <field name="name">Reporte de Materiales</field>
    <field name="res_model">mrp.consolidation.line</field>
    <field name="view_mode">list</field>
    <field name="view_id" ref="view_consolidated_materials_report" />
    <field name="domain">[('consolidation_id.state', '!=', 'draft')]</field>
    <field name="context">{'group_by': 'category_id'}</field>
  </record>

  <menuitem id="menu_consolidated_materials_report"
    name="Reporte de Materiales"
    parent="menu_mrp_consolidation_root"
    action="action_consolidated_materials_report"
    sequence="20" />

</odoo>